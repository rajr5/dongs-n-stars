<div class="container-fluid">
  <div class="column">
    <div>
      <div ng-if="vm.messages.error && vm.messages.error.length > 0" role="alert" class="alert alert-danger">
        <div ng-repeat="error in vm.messages.error">{{error.msg}}</div>
      </div>
      <div ng-if="vm.messages.success && vm.messages.success.length > 0" role="alert" class="alert alert-success">
        <div ng-repeat="success in vm.messages.success">{{success.msg}}</div>
      </div>
    <div class="panel">

      <div class="panel-body">

       <div class="row">
         <div class="col-md-6">
        <div class="panel panel-default">
          <div class="panel-heading">
            <h3 class="panel-title">Give a point</h3>
              </div>
                <div class="panel-body" style="overflow-y: scroll; min-height: 350px; max-height: 450px;">
                  <div class="Column">
                  <div class="row" style="max-height:350px;">
                    <ul class="list-group">
                      <a class="list-group-item"
                      ng-repeat="user in vm.users | orderBy: 'name'"
                      ng-click="vm.selectUser(user)"
                      ng-class="{active: user === vm.user}">
                        {{user.name}} ({{user.email}})
                      </a>
                    </ul>
                  </div>
                </div>
              </div>
            </div>
            <div class="row">
              <form class="form-inline col-md-12 col-md-offset-1">
                <div class="btn-group" data-toggle="buttons">
                  <label class="btn btn-default active" ng-click="vm.setPointType('dong')">
                    <input type="radio" autocomplete="off" ng-checked="vm.pointType === 'dong'"> Dong
                  </label>
                  <label class="btn btn-default" ng-click="vm.setPointType('rockstar')">
                    <input type="radio" autocomplete="off" ng-checked="vm.pointType === 'rockstar'"> Rockstar
                  </label>
                </div>
                  <button type="button" ng-click="vm.createUserPoint(vm.user, vm.pointType)" class="btn btn-primary">Submit {{vm.pointType}} point</button>
              </form>
              <!--list group-->
          </div>
         </div>

          <div class="col-md-6">
            <div class="panel panel-default">
              <div class="panel-heading">
                <h3 class="panel-title">Recent Activity</h3>
              </div>
              <div class="panel-body" style="height: 380px; overflow-y: scroll; overflow-x: none;">
                <ul class="list-group">
                  <li ng-repeat="recent in vm.recent | orderBy: '-voteDate'" class="list-group-item">
                    <span>{{recent.voteDate | date: 'short'}} - </span>
                    <span>{{recent.fromUser.name}}</span>
                    <span ng-class="recent.class">{{recent.verb}}</span>
                    <span>{{recent.toUser.name}}<span ng-show="recent.verb === 'removed'">'s</span></span>
                    <span ng-show="recent.verb === 'gave'">a</span>
                    <span ng-class="{'label label-danger': recent.dong, 'label label-success': recent.rockstar}">{{recent.type}}</span>
                    <span ng-show="recent.dong !== 0"> point</span>
                    <span ng-show="recent.rockstar !== 0"> nomination</span>
                  </li>
                </ul>
              </div>
              </div>
            </div>
          </div>
        </div>

      </div>

    <div class="row">
      <div class="col-md-6">
      <div class="panel panel-danger">
        <div class="panel-heading">
          <h3 class="panel-title">Dongs</h3>
        </div>
        <div class="panel-body">
          <div ng-if="messages.error" role="alert" class="alert alert-danger">
            <div ng-repeat="error in messages.error">{{error.msg}}</div>
          </div>
          <div ng-if="messages.success" role="alert" class="alert alert-success">
            <div ng-repeat="success in messages.success">{{success.msg}}</div>
          </div>
            <table class="table table-striped">
              <thead>
                <td>#</td>
                <td>Name</td>
                <td>Points</td>
                <td>Action</td>
              </thead>
              <tbody>
                <tr ng-repeat="point in vm.dongs | orderBy: '-count'">
                  <td>{{$index + 1}}</td>
                  <td>{{point.name}} - ({{point.email}})</td>
                  <td>{{point.count}}</td>
                  <td>
                    <span ng-click="vm.createUserPoint(point.toUser, 'dong')" class="btn btn-warning btn-xs">Add</span> |
                    <span ng-click="vm.removeUserPoint(point.toUser, 'dong')" class="btn btn-info btn-xs">Remove</span>
                  </td>
                </tr>
              </tbody>
            </table>
        </div>
      </div>
      </div>
      <div class="col-md-6">
        <div class="panel panel-success" class="col-md-6">
          <div class="panel-heading" class="col-md-6">
            <h3 class="panel-title">Rockstars</h3>
          </div>
          <div class="panel-body">
            <div ng-if="messages.error" role="alert" class="alert alert-danger">
              <div ng-repeat="error in messages.error">{{error.msg}}</div>
            </div>
            <div ng-if="messages.success" role="alert" class="alert alert-success">
              <div ng-repeat="success in messages.success">{{success.msg}}</div>
            </div>
            <table class="table table-striped">
              <thead>
                <td>#</td>
                <td>Name</td>
                <td>Points</td>
                <td>Action</td>
              </thead>
              <tbody>
                <tr ng-repeat="point in vm.rockstars | orderBy: '-count'">
                  <td>{{$index + 1}}</td>
                  <td>{{point.name}} - ({{point.email}})</td>
                  <td>{{point.count}}</td>
                  <td>
                    <span ng-click="vm.createUserPoint(point.toUser, 'rockstar')" class="btn btn-warning btn-xs">Add</span> |
                    <span ng-click="vm.removeUserPoint(point.toUser, 'rockstar')" class="btn btn-info btn-xs">Remove</span>
                  </td>
                </tr>
              </tbody>
            </table>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>